<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css"
href="webjars/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
<div class="container">
<div th:insert="layout/header :: header"></div>
<!--<ul class="nav nav-tabs" role="tablist">
 <li class="nav-item"><a id="unidad-tab"
th:classappend="${unidadForm}" class="btn btn-danger"
href="#unidad" data-toggle="tab" role="tab"
aria-controls="unidad" aria-selected="true">Agregar Unidad Habitacional</a></li>
   <li class="nav-item"><a id="lista-tab" class="btn btn-danger"
th:classappend="${listTab}" href="#lista" data-toggle="tab"
role="tab" aria-controls="lista" aria-selected="false">Lista</a></li>
</ul>-->
<div class="tab-content">

<div class="card">
<div class="card-header">
<h4>Unidad Habitacional</h4>
</div>
<div class="card-body">
<form class="form" role="form" autocomplete="off"
th:object="${unidadHabitacional}"
th:action="${editMode}?@{/editarUsuario}:@{/unidadForm}"
method="post">

<!-- es necesario para pasar la validacion -->
<input class="form-control" type=hidden
th:field="${unidadHabitacional.id}" th:if="${editMode}"/>
<!--<input class="form-control" type=hidden
th:field="${barrio}"/> -->
<div class="col">
<div class="form-group row">
<label class="col-lg-3 col-form-label form-control-label">Direccion:</label>
<div class="col-lg-9">
<input class="form-control" type="text"
th:field="${unidadHabitacional.direccion}">
<div class="alert-danger"
th:if="${#fields.hasErrors('direccion')}"
th:errors="*{direccion}">Direccion Error</div>
</div>
</div>
<div class="form-group row" >
<label class="col-lg-3 col-form-label form-control-label" >Barrio</label>
<div class="col-lg-9">
<select  th:field="${unidadHabitacional.barrio}"  class="custom-select my-1 mr-sm-2">
<!--  <option selected >Elegir Barrio...</option>-->
<option  th:each="barrio : ${listaBarrios}" th:value="${barrio.id}" th:text="${barrio.nombre}">
</option>
</select>
<div class="alert-danger"
th:if="${#fields.hasErrors('barrio')}"
th:errors="*{barrio}">Barrio Error</div>
</div>
</div>
</div>
<div class="form-group row">
<div class="col-lg-12 text-center">
<a class="btn btn-secondary" th:href="@{'/cancelarUnidadHabitacional'}">Cancelar</a>
<button type="button" class="btn btn-success"
data-toggle="modal" data-target="#modalAgregar">Guardar</button>
</div>
</div>
<div class="alert-danger text-center"
th:if="${formUnidadHabitacionalErrorMessage}"
th:text="${formUnidadHabitacionalErrorMessage}">Error</div>

<!-- Modal Agregar -->
<div class="modal fade" id="modalAgregar" tabindex="-1"
role="dialog" aria-labelledby="agregarModalTitulo"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="agregarModalTitulo">Confirmar
Agregar</h5>
<button type="button" class="close" data-dismiss="modal"
aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>

<div class="modal-footer">
<button type="button" class="btn btn-secondary"
data-dismiss="modal">Cerrar</button>
<input type="submit" class="btn btn-danger"
value="Guardar Cambios"
th:value="${editMode}?'Guardar Unidad':'Crear Unidad'">
</div>
</div>
</div>
</div>
</form>

</div>
</div>

<!--  <div class="tab-pane fade show" id="lista" role="tabpanel"
th:classappend="${listTab}" aria-labelledby="lista-tab">
<div class="card">
<div class="card-header">
<h4>Listado de Usuarios</h4>
</div>
<div class="card-body">
<table id="usuarioList"
class="table table-bordered table-hover table-striped">
<thead class="thead-dark">
<tr>
<th scope="col">#</th>
<th scope="col">Usuario</th>
<th scope="col">Password</th>
<th scope="col">Apellido</th>
<th scope="col">Nombre</th>
<th scope="col">Tipo de Usuario</th>
<th scope="col">Accion</th>
</tr>
</thead>
<tbody>
<tr class="table-danger" th:each="usuario : ${listaUsuarios}">
<td th:text="${usuario.id}"></td>
<td th:text="${usuario.nombreUsuario}"></td>
<td th:text="${usuario.password}"></td>
<td th:text="${usuario.nombreReal}"></td>
<td th:text="${usuario.apellidoReal}"></td>
<td th:text="${usuario.tipoUsuario}"></td>
<td><a href="#"
th:href="@{'/editarUsuario/'+${usuario.id}}"> <i
class="fa fa-edit"></i>
</a> | <a href="#"
th:onclick="'javascript:confirmarEliminar(\''+${usuario.id}+'\');'"><i
class="fa fa-trash-alt"></i> </a></td>
</tr>
</tbody>
</table>
<div class="alert-danger text-center"
th:if="${listUsuarioErrorMessage}"
th:text="${listUsuarioErrorMessage}">Name Error</div>


<script type="text/javascript">
function confirmarEliminar(id) {
$('#modalEliminar').modal('show');
$("#identificadorUsuarioHiddenInput").val(id);
}

function eliminarBarrio() {
var id = $("#identificadorUsuarioHiddenInput")
.val();
window.location = "eliminarUsuario/" + id;
}
</script>



<div class="modal fade" id="modalEliminar" tabindex="-1"
role="dialog" aria-labelledby="eliminarModalTitulo"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="eliminarModalTitulo">Confirmar
Eliminar</h5>
<button type="button" class="close" data-dismiss="modal"
aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<h6>Desea eliminar Usuario?</h6>
</div>
<input type="hidden" id="identificadorUsuarioHiddenInput"
name="barrioIdHiddenInput" />
<div class="modal-footer">
<button type="button" class="btn btn-secondary"
data-dismiss="modal">Cerrar</button>
<button type="button" class="btn btn-danger"
th:onclick="eliminarUsuario()">Eliminar Usuario</button>
</div>
</div>
</div>
</div>


</div>
</div>
</div>-->
</div>

<div th:insert="layout/footer :: footer"></div>
<script type="text/javascript"
src="webjars/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript"
src="webjars/popper.js/1.16.0/popper.min.js"></script>
<script type="text/javascript"
src="webjars/bootstrap/4.5.0/js/bootstrap.min.js"></script>
</div>

</body>
</html>
